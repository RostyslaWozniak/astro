---
// components
import { DisplayServices } from "@components/DisplayServices";
import H2 from "@components/ui/H2.astro";
import ServicesCard from "@components/ui/ServicesCard.astro";
import ContentLayout from "@layouts/ContentLayout.astro";
const services = await Astro.glob("src/pages/usługi/*.md");
const random = (arr: number[] = []) => {
  let randomNum = Math.floor(Math.random() * services.length);
  if (arr.length < 3) {
    if (!arr.includes(randomNum)) {
      arr.push(randomNum);
    }
    random(arr);
  }
  return arr;
};
---

<section class="bg-primary">
  <ContentLayout className="flex flex-col items-center gap-14 py-10">
    <H2>Nasze usługi</H2>
    <div
      class="flex flex-wrap items-center justify-center sm:gap-x-5 md:gap-x-10 lg:gap-x-20"
    >
      <DisplayServices
        data={random().map((num) => services[num])}
        className="flex flex-wrap items-center justify-center gap-5 gap-y-10"
        client:load
      />
    </div>
    <a
      href="/usługi/"
      class="rounded-full border-2 bg-accent/70 px-10 py-2 text-center shadow-castom duration-300 hover:bg-accent/50"
      >Zobacz więcej usług</a
    >
  </ContentLayout>
</section>
